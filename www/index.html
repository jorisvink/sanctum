<!DOCTYPE>

<html>

<head>
<title>Sanctum introduction</title>

<style>
body {
    background-color: #fffaed;
    font-family: Verdana, sans-serif;
}

.content {
    width: 600px;
    margin-left: auto;
    margin-right: auto;
    margin-top: 45px;
}

.logo {
    position: relative;
    margin-bottom: 16px;
}

.sep {
    background-color: #daa520;
    width: 100%;
    height: 5px;
    border-radius: 5px;
}

.release {
    margin-bottom: 5px;
}

a, a:visited {
    color: #daa520;
    text-decoration: none;
}

</style>
</head>

<body>

<div class="content">
    <div class="logo">
        <a href="/"><img src="/sanctorum_transparent.png" width="64px" height="auto"></a>
    </div>

    <div class="release">
        Latest release: <a href="/sanctum/releases/sanctum-0.9.2.tgz">sanctum 0.9.2</a>
    </div>

    <div class="sep"></div>

    <h3>What is sanctum?</h3>

    <p>
        Sanctum is a small, reviewable, experimental and <strong>fully
        privilege seperated</strong> VPN daemon capable of transporting
        encrypted network traffic between two peers.
    </p>

    <h3>Multi-process</h3>

    <p>
        Sanctum is built using a multi-process approach where each process
        is only doing one thing. This allows for more fine-grained sandboxing
        in relation to permissions or allowed system calls.
    </p>

    <h3>Encryption</h3>

    <p>
        Traffic is usually encrypted under AES256-GCM with unique keys
        in both RX and TX directions, using a 64-bit packet counter as
        the nonce.
    </p>

    <p>
        Using the <strong>CIPHER</strong> environment variable you can however
        change traffic encryption to use <a href="https://github.com/jorisvink/sanctum/blob/master/nyfe/src/agelas.c" target="_blank">Agelas</a>,
        which is a duplex-sponge based AEAD cipher based on Keccak-p[1600,24].
    </p>

    <h3>Key exchange</h3>

    <p>
        Sanctum uses strong shared symmetrical secrets from which an
        encryption key is derived for wrapping a generated session
        key that is transmitted to its peer.
    </p>

    <p>
        Keys are expired automatically after a given number of packets
        have been submitted on them (1 << 34), or after 1-hour.
    </p>

    <p>
        The underlying algorithm for this is the AEAD duplex-sponge
        stream cipher mentioned earlier. The entire key derivation and
        offer process is as follows:
    </p>

<pre>
    Wrapping key (wk) derivation:
        s = shared secret, 256-bit
        se = seed selected uniformly at random, 512-bit
        wk = KMAC256(s, len(se) || se), 512-bit

    Key offer:
        now = Seconds since boot, 64-bit
        salt = The salt for nonce construction, 32-bit
        id = unique sanctum ID generated at start, 64-bit
        key = session key selected uniformly at random, 256-bit

        seed = se from wk derivation above
        spi = The SPI for this association

        header = magic || spi || seed
        encdata = id || now || key || salt

        encdata = Agelas(wk, aad=header, encdata)
        send(header || encdata)
</pre>

    <h3>Why did you write sanctum?</h3>

    <p>
        I wrote it so I can be certain that my packets are blessed
        correctly according to the scriptures of cryptology.
    </p>

    <h3>Huh?</h3>

    <p>
        Ok, I wrote sanctum because I wanted something I can trust
        fully myself. I am a very private person and want to
        excercise my right to privacy, even online.
        There are definitely alternatives, but I opted to
        carve out something for myself.
    </p>

    <p>
        Plus, it's cool to hack on stuff.
    </p>

    <h3>What makes you qualified to build this?</h3>

    <p>
        If you are asking yourself that question, that's ok.
        The people who know, know. I have been building these
        type of things for many years at high assurance levels.
        Now, if this makes you nervous and rather not use Sanctum that is
        fine, there are
        <a href="https://www.wireguard.com" target="_blank">plenty</a>
        <a href="https://openvpn.net" target="_blank">of</a>
        <a href="https://strongswan.org" target="_blank">alternatives</a>.
    </p>

    <p>
        But none of them have cool mythology though ;)
    </p>

    <h3>Source?</h3>

    <p>
        Latest release: <a href="/sanctum/releases/sanctum-0.9.2.tgz">sanctum 0.9.2</a>
    </p>

    <p>
        A mirror of the repository is available on <a href="https://github.com/jorisvink/sanctum" target="_blank">github</a>.
    </p>

    <h3>How?</h3>

    <p>
        A small simple guide is available <a href="/sanctum/guide.html">here</a>.
    </p>

    <h3>I want to contribute!</h3>

    <p>
        mail diffs to joris snabel-a sanctorum punkt se
    </p>
</div>

</body>
</html>
